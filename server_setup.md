# Настройка сервера для запуска сайта
## Платформы и технологии
Пятая версия сайта написана на платформе Node.js, что, при желании, позволяет запускать его на любой операционной системе.

Данный документ подразумевает, что в продакшен среде используется ОС Debian Linux версии 8.

## Компоненты
Этапы настройки сервера представлены установкой и настройкой следующих компонент:

- Пользователь
- База данных
- Web-сервер
- Node.js и npm
- Менеджер процессов
- Развертывание сайта
- Мониторинг

### Пользователь
Логином пользователя определим `psycho`. 
Для создания пользователя необходимо выполнить команды:

- `adduser psycho` — добавление пользователя в систему;
- `apt-get install sudo` — установка sudo;
- `usermod -aG sudo psycho` — добавление нового пользователя в группу `sudo`;

Замечания:

1. Для применения настроек необходимо выйти из сессии пользователя `psycho` и снова зайти.
2. После создания пользователя настоятельно не рекомендуется использовать `root`.

### База данных
pg_dump --file=psycho5.sqlc --format=c --username=pnbdev --host=176.112.200.249 --verbose psycho5

pg_restore.exe -F c -c -d psycho5 -v -h 127.0.0.1 -U postgres c:\coding\DBDumps\psycho5.sqlc

certbot renew --pre-hook "service nginx stop" --post-hook "service nginx start"
